<%- content_for( :javascript ) do %>
<%= javascript_include_tag "application_users" %>
<%- end -%>

<div class="container">

    <div class="row">
        <div class="span12">
            <div class="page-header">
                <h1><%= @application.name %> <small>Authorized Users</small></h1>

            </div>
        </div>
    </div>

    <div class="row">
        <div class="span3">
            <input id="user_auto_complete_field" type="text" placeholder="Start typing to find users" />

            <ul id="candidate_user_list" user-list-url="<%= api_internal_user_list_url %>">
            </ul>

        </div>

        <div class="span9">
            <%= form_tag application_update_authorized_users_path( @application ), :class => "login-form" do %>
                <%= submit_tag "Save", :class => [ 'btn', 'btn-info', 'pull-right' ] %>

                <ul id="authorized_user_list">
                    <% @application.authorized_users.each do |user| %>
                    <li class="well" object-id="<%= user.id %>">
                        <i class="icon-remove"></i>
                        <b><%= user.name %></b>
                        <small><%= user.email %></small>                        
                        <input type="hidden" name="users[]" value="<%= user.id %>" />
                    </li>
                    <% end %>
                </ul>
            <% end %>
        </div>
    </div>
</div>